<header
  class="flex items-center justify-between h-16 px-6 bg-white border-b border-gray-200"
>
  <!-- Côté Gauche: Search and Exercice Display -->
  <div class="flex items-center gap-6">
    <!-- Search Bar -->
    <div class="relative hidden md:block">
      <div
        class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"
      >
        <svg
          class="w-5 h-5 text-gray-400"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
        >
          <path
            fill-rule="evenodd"
            d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
            clip-rule="evenodd"
          />
        </svg>
      </div>
      <input
        type="text"
        placeholder="Rechercher un N° de compte..."
        class="block w-full py-2 pl-10 pr-3 text-sm text-gray-800 placeholder-gray-400 bg-gray-100 border-transparent rounded-lg focus:outline-none focus:ring-2 focus:ring-[#187181]"
      />
    </div>

    <!-- Current Exercice Display -->
    <div
      *ngIf="currentExercice"
      class="flex items-center gap-2 p-2 bg-teal-50 border border-teal-200 rounded-md"
    >
      <svg
        class="w-5 h-5 text-teal-600"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          fill-rule="evenodd"
          d="M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zM4.5 8.5a.75.75 0 00-.75.75v5.5c0 .414.336.75.75.75h10.5a.75.75 0 00.75-.75v-5.5a.75.75 0 00-.75-.75H4.5z"
          clip-rule="evenodd"
        />
      </svg>
      <span class="text-sm font-semibold text-gray-700"
        >Exercice:
        <span class="font-bold text-[#187181]">{{
          currentExercice
        }}</span></span
      >
    </div>
  </div>

  <!-- Côté Droit: Notifications et Menu Utilisateur -->
  <div class="flex items-center gap-4 ml-auto">
    <!-- Icône et Menu de Notifications -->
    <div class="relative">
      <button
        (click)="toggleNotificationsMenu()"
        class="p-2 text-gray-500 transition-colors rounded-full hover:text-gray-700 hover:bg-gray-100 focus:outline-none"
      >
        <span
          class="absolute top-0 right-0 block w-2 h-2 bg-red-500 rounded-full"
        ></span>
        <svg
          class="w-6 h-6"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"
          />
        </svg>
      </button>

      <!-- Menu déroulant des notifications -->
      <div
        *ngIf="isNotificationsMenuOpen"
        class="absolute right-0 z-20 w-64 mt-2 origin-top-right bg-white rounded-lg shadow-lg overflow-hidden"
      >
        <div class="py-2">
          <a
            href="#"
            class="flex items-center px-4 py-3 -mx-2 transition-colors duration-200 transform border-b border-gray-200 hover:bg-gray-50"
          >
            <p class="mx-2 text-sm text-gray-600">
              <span class="font-bold">Chèque #55432</span> en attente de
              certification.
            </p>
          </a>
          <a
            href="#"
            class="flex items-center px-4 py-3 -mx-2 transition-colors duration-200 transform hover:bg-gray-50"
          >
            <p class="mx-2 text-sm text-gray-600">
              <span class="font-bold">Transfert BA</span> reçu pour le client
              EPA-001.
            </p>
          </a>
        </div>
        <a
          href="#"
          class="block py-2 font-bold text-center text-white bg-[#187181] hover:opacity-90"
          >Voir toutes les notifications</a
        >
      </div>
    </div>

    <!-- Séparateur visuel -->
    <div class="w-px h-6 bg-gray-200"></div>

    <!-- Profil et Menu Utilisateur -->
    <div class="relative">
      <button
        (click)="toggleUserMenu()"
        class="flex items-center gap-3 focus:outline-none"
      >
        <span class="hidden font-medium text-right text-gray-700 md:block"
          >M. SABTI Ahmed</span
        >
        <div class="relative block w-10 h-10 overflow-hidden rounded-full">
          <span
            class="flex items-center justify-center w-full h-full text-xl font-semibold text-white bg-[#187181]"
            >SA</span
          >
        </div>
      </button>

      <!-- Menu déroulant de l'utilisateur -->
      <div
        *ngIf="isUserMenuOpen"
        class="absolute right-0 z-20 w-48 py-2 mt-2 origin-top-right bg-white rounded-lg shadow-lg overflow-hidden"
      >
        <a
          [routerLink]="['/profile']"
          class="flex items-center gap-3 px-4 py-2 text-sm text-gray-600 transition-colors duration-200 transform hover:bg-gray-100"
        >
          <svg
            class="w-5 h-5"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"
            />
          </svg>
          <span>Profil</span>
        </a>
        <a
          (click)="logout()"
          class="flex items-center gap-3 px-4 py-2 text-sm text-gray-600 transition-colors duration-200 transform cursor-pointer hover:bg-gray-100"
        >
          <svg
            class="w-5 h-5"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"
            />
          </svg>
          <span>Déconnexion</span>
        </a>
      </div>
    </div>
  </div>
</header>
